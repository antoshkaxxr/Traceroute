# Traceroute

## Запуск утилиты
Установите необходимые зависимости:

```pip install scapy```

Склонируйте репозиторий и в командной строке из папки с проектом введите, например, команду:

```python traceroute.py -t 3 -p 53 -n 25 -v 1.1.1.1 tcp```

где -t, -n и -v опциональны, а -p обязателен только для протоколов tcp и udp.
Вывод происходит в формате:

```NUM IP [время ms] номер автономной системы```

Последнее выводится, только если активен расширенный режим -v.

## Особенности реализации
- Реализован алгоритм работы ```traceroute``` точно такой, который был описан в лекции. **Для работы с пакетами используется модуль ```scapy```**
- **Поддерживаются три протокола**: ```ICMP```, ```TCP``` и ```UDP```
- Доступен **вывод номера автономной системы** для каждого IP-адреса с помощью протокола Whois
- **Есть поддержка IPv6** (см. функции ```maintain_icmp```, ```maintain_tcp``` и ```maintain_udp``` в ```traceroute_implementation.py```, а также ```whois_func``` в ```whois_function.py```)


## Дополнительно о Whois
Работа с протоколом осуществляется **без готовой библиотеки whois**.

Устанавливается соединение с WHOIS-сервером (```whois.arin.net``` для ```IPv4``` и ```whois.ripe.net``` для ```IPv6```, порт ```43``` - стандартный порт WHOIS) и посылается запрос с командой для получения информации о маршрутизации. В ответе находится поле ```OriginAS```, которое и содержит искомый номер автономной системы. В случае, если оно пусто, выводится прочерк.
